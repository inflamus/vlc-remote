/*!
 * =====================================================
 * Ratchet v2.0.2 (http://goratchet.com)
 * Copyright 2014 Connor Sears
 * Licensed under MIT (https://github.com/twbs/ratchet/blob/master/LICENSE)
 *
 * v2.0.2 designed by @connors.
 * =====================================================
 */
!function(){var f=function(d){var a;b:{a=d.target;for(var b,l=document.querySelectorAll("a");a&&a!==document;a=a.parentNode)for(b=l.length;b--;)if(l[b]===a)break b;a=void 0}a=a&&a.hash?document.querySelector(a.hash):void 0;a&&(a&&a.classList.contains("modal")&&a.classList.toggle("active"),d.preventDefault(),history.pushState(a.id,'',null))};window.addEventListener("touchend",f);window.addEventListener("click",f)}();
!function(){var f,d=function(){f.style.display="none";f.removeEventListener("webkitTransitionEnd",d)},a=function(){var b=document.createElement("div");b.classList.add("backdrop");b.addEventListener("touchend",function(){f.addEventListener("webkitTransitionEnd",d);f.classList.remove("visible");f.parentNode.removeChild(a)});return b}();window.addEventListener("touchend",function(b){a:{b:{b=b.target;for(var d,g=document.querySelectorAll("a");b&&b!==document;b=b.parentNode)for(d=g.length;d--;)if(g[d]===
b)break b;b=void 0}if(b&&b.hash&&!(0<b.hash.indexOf("/"))){try{f=document.querySelector(b.hash)}catch(e){f=null}if(null!==f&&f&&f.classList.contains("popover")){b=f;break a}}b=void 0}b&&(b.style.display="block",b.offsetHeight,b.classList.add("visible"),b.parentNode.appendChild(a))})}();
!function(){var f=function(){},d,a=sessionStorage,b={},l={slideIn:"slide-out",slideOut:"slide-in",fade:"fade"},g={bartab:".bar-tab",barnav:".bar-nav",barfooter:".bar-footer",barheadersecondary:".bar-header-secondary"},e=function(h,c){k.id=h.id;c&&(h=q(h.id));a[h.id]=JSON.stringify(h);window.history.replaceState(h.id,h.title,h.url);b[h.id]=document.body.cloneNode(!0)},p=function(){var h=k.id,c=JSON.parse(a.cacheForwardStack||"[]"),x=JSON.parse(a.cacheBackStack||"[]");for(x.push(h);c.length;)delete a[c.shift()];
for(;20<x.length;)delete a[x.shift()];window.history.pushState(null,"",a[k.id].url);a.cacheForwardStack=JSON.stringify(c);a.cacheBackStack=JSON.stringify(x)},q=function(h){return JSON.parse(a[h]||null)||{}},t=function(h){var c;a:{c=h.target;for(var a,b=document.querySelectorAll("a");c&&c!==document;c=c.parentNode)for(a=b.length;a--;)if(b[a]===c)break a;c=void 0}if(!(!c||1<h.which||h.metaKey||h.ctrlKey||d||location.protocol!==c.protocol||location.host!==c.host||!c.hash&&/#/.test(c.href)||c.hash&&c.href.replace(c.hash,
"")===location.href.replace(location.hash,"")||"push"===c.getAttribute("data-ignore")))return c},k=function(h){var c,a=k.xhr;h.container=h.container||h.transition?document.querySelector(".content"):document.body;for(c in g)g.hasOwnProperty(c)&&(h[c]=h[c]||document.querySelector(g[c]));a&&4>a.readyState&&(a.onreadystatechange=f,a.abort());a=new XMLHttpRequest;a.open("GET",h.url,!0);a.setRequestHeader("X-PUSH","true");a.onreadystatechange=function(){h._timeout&&clearTimeout(h._timeout);if(4===a.readyState)if(200===
a.status)u(a,h);else throw Error("Could not get: "+h.url);};k.id||e({id:+new Date,url:window.location.href,title:document.title,timeout:h.timeout,transition:null});h.timeout&&(h._timeout=setTimeout(function(){a.abort("timeout")},h.timeout));a.send();a.readyState&&!h.ignorePush&&p()},u=function(a,c){var b,r,m=n(a,c);if(!m.contents)return y(c.url);m.title&&(document.title=m.title);if(c.transition)for(b in g)g.hasOwnProperty(b)&&(r=document.querySelector(g[b]),m[b]?v(m[b],r):r&&r.parentNode.removeChild(r));
v(m.contents,c.container,c.transition,function(){e({id:c.id||+new Date,url:m.url,title:m.title,timeout:c.timeout,transition:c.transition},c.id);var a=new CustomEvent("push",{detail:{state:q(k.id)},bubbles:!0,cancelable:!0});window.dispatchEvent(a)});!c.ignorePush&&window._gaq&&_gaq.push(["_trackPageview"])},v=function(a,c,b,r){var g,d;b?(g=/in$/.test(b),"fade"===b&&(c.classList.add("in"),c.classList.add("fade"),a.classList.add("fade")),/slide/.test(b)&&(a.classList.add("sliding-in",g?"right":"left"),
a.classList.add("sliding"),c.classList.add("sliding")),c.parentNode.insertBefore(a,c)):c?c.innerHTML=a.innerHTML:a.classList.contains("content")?document.body.appendChild(a):document.body.insertBefore(a,document.querySelector(".content"));b||r&&r();if("fade"===b){c.offsetWidth;c.classList.remove("in");var e=function(){c.removeEventListener("webkitTransitionEnd",e);a.classList.add("in");a.addEventListener("webkitTransitionEnd",k)},k=function(){a.removeEventListener("webkitTransitionEnd",k);c.parentNode.removeChild(c);
a.classList.remove("fade");a.classList.remove("in");r&&r()};c.addEventListener("webkitTransitionEnd",e)}if(/slide/.test(b)){var f=function(){a.removeEventListener("webkitTransitionEnd",f);a.classList.remove("sliding","sliding-in");a.classList.remove(d);c.parentNode.removeChild(c);r&&r()};c.offsetWidth;d=g?"right":"left";c.classList.add(g?"left":"right");a.classList.remove(d);a.addEventListener("webkitTransitionEnd",f)}},y=function(a){window.history.replaceState(null,"","#");window.location.replace(a)},
w=function(a,c,b){var d,m={};for(d in a)a.hasOwnProperty(d)&&(m[d]=a[d]);Object.keys(g).forEach(function(a){var c=b.querySelector(g[a]);c&&c.parentNode.removeChild(c);m[a]=c});m.contents=b.querySelector(c);return m},n=function(a,c){var b,d,g={},e=a.responseText;g.url=c.url;if(!e)return g;/<html/i.test(e)?(b=document.createElement("div"),d=document.createElement("div"),b.innerHTML=e.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0],d.innerHTML=e.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]):(b=d=document.createElement("div"),
b.innerHTML=e);g.title=b.querySelector("title");b="innerText"in g.title?"innerText":"textContent";g.title=g.title&&g.title[b].trim();c.transition?g=w(g,".content",d):g.contents=d;return g};window.addEventListener("touchstart",function(){d=!1});window.addEventListener("touchmove",function(){d=!0});window.addEventListener("touchend",function(a){var c=t(a);c&&(a.preventDefault(),k({url:c.href,hash:c.hash,timeout:c.getAttribute("data-timeout"),transition:c.getAttribute("data-transition")}))});window.addEventListener("click",
function(a){t(a)&&a.preventDefault()});window.addEventListener("popstate",function(d){var c,e,f,m,n;if((d=d.state)&&a[d]){n=k.id<d?"forward":"back";f="forward"===n;m=JSON.parse(a.cacheForwardStack||"[]");e=JSON.parse(a.cacheBackStack||"[]");var p=f?m:e;k.id&&(f?e:m).push(k.id);p.pop();a.cacheForwardStack=JSON.stringify(m);a.cacheBackStack=JSON.stringify(e);f=q(d);m=b[d];f.title&&(document.title=f.title);"back"===n?(e=JSON.parse("back"===n?a.cacheForwardStack:a.cacheBackStack),e=q(e[e.length-1])):
e=f;if("back"===n&&!e.id)return k.id=d;n="back"===n?l[e.transition]:e.transition;if(!m)return k({id:f.id,url:f.url,title:f.title,timeout:f.timeout,transition:n,ignorePush:!0});if(e.transition)for(c in f=w(f,".content",m.cloneNode(!0)),g)g.hasOwnProperty(c)&&(e=document.querySelector(g[c]),f[c]?v(f[c],e):e&&e.parentNode.removeChild(e));v((f.contents||m).cloneNode(!0),document.querySelector(".content"),n);k.id=d;document.body.offsetHeight}});window.PUSH=k}();
!function(){var f=function(d){for(var a,b=document.querySelectorAll(".segmented-control .control-item");d&&d!==document;d=d.parentNode)for(a=b.length;a--;)if(b[a]===d)return d};window.addEventListener("touchend",function(d){var a;if(a=f(d.target))if((d=a.parentNode.querySelector(".active"))&&d.classList.remove("active"),a.classList.add("active"),a.hash&&(a=document.querySelector(a.hash))){d=a.parentNode.querySelectorAll(".active");for(var b=0;b<d.length;b++)d[b].classList.remove("active");a.classList.add("active")}});
window.addEventListener("click",function(d){f(d.target)&&d.preventDefault()})}();
!function(){var f,d,a,b,l,g,e,p,q,t,k,u,v,y=function(){if("webkitTransform"in a.style){var b=a.style.webkitTransform.match(/translate3d\(([^,]*)/);return parseInt(b?b[1]:0,10)}},w=function(d){k=Math[d?0>b?"ceil":"floor":"round"](y()/(v/a.children.length));k+=d;k=Math.min(k,0);k=Math.max(-(a.children.length-1),k)};window.addEventListener("touchstart",function(g){a:{for(var h=g.target,c,k=document.querySelectorAll(".slider > .slide-group");h&&h!==document;h=h.parentNode)for(c=k.length;c--;)if(k[c]===
h){a=h;break a}a=void 0}a&&(v=a.querySelector(".slide").offsetWidth*a.children.length,u=void 0,t=a.offsetWidth,q=1,e=-(a.children.length-1),p=+new Date,f=g.touches[0].pageX,d=g.touches[0].pageY,l=b=0,w(0),a.style["-webkit-transition-duration"]=0)});window.addEventListener("touchmove",function(n){1<n.touches.length||!a||(b=n.touches[0].pageX-f,l=n.touches[0].pageY-d,f=n.touches[0].pageX,d=n.touches[0].pageY,"undefined"===typeof u&&(u=Math.abs(l)>Math.abs(b)),u||(g=b/q+y(),n.preventDefault(),q=0===
k&&0<b?f/t+1.25:k===e&&0>b?Math.abs(f)/t+1.25:1,a.style.webkitTransform="translate3d("+g+"px,0,0)"))});window.addEventListener("touchend",function(d){a&&!u&&(w(1E3>+new Date-p&&15<Math.abs(b)?0>b?-1:1:0),g=k*t,a.style["-webkit-transition-duration"]=".2s",a.style.webkitTransform="translate3d("+g+"px,0,0)",d=new CustomEvent("slide",{detail:{slideNumber:Math.abs(k)},bubbles:!0,cancelable:!0}),a.parentNode.dispatchEvent(d))})}();
!function(){var f,d,a=!1,b=!1,l=!1;window.addEventListener("touchstart",function(b){b=b.originalEvent||b;a:{for(var e=b.target,p,q=document.querySelectorAll(".toggle");e&&e!==document;e=e.parentNode)for(p=q.length;p--;)if(q[p]===e){l=e;break a}l=void 0}l&&(p=l.querySelector(".toggle-handle"),e=l.clientWidth,p=p.clientWidth,e=l.classList.contains("active")?e-p:0,f=b.touches[0].pageX-e,d=b.touches[0].pageY,a=!1)});window.addEventListener("touchmove",function(g){g=g.originalEvent||g;if(!(1<g.touches.length)&&
l){var e=l.querySelector(".toggle-handle"),p=g.touches[0],q=l.clientWidth,t=e.clientWidth,k=q-t;a=!0;b=p.pageX-f;if(!(Math.abs(b)<Math.abs(p.pageY-d))){g.preventDefault();if(0>b)return e.style.webkitTransform="translate3d(0,0,0)";if(b>k)return e.style.webkitTransform="translate3d("+k+"px,0,0)";e.style.webkitTransform="translate3d("+b+"px,0,0)";l.classList[b>q/2-t/2?"add":"remove"]("active")}}});window.addEventListener("touchend",function(d){if(l){d=l.querySelector(".toggle-handle");var e=l.clientWidth,
f=d.clientWidth,q=e-f,e=!a&&!l.classList.contains("active")||a&&b>e/2-f/2;d.style.webkitTransform=e?"translate3d("+q+"px,0,0)":"translate3d(0,0,0)";l.classList[e?"add":"remove"]("active");d=new CustomEvent("toggle",{detail:{isActive:e},bubbles:!0,cancelable:!0});l.dispatchEvent(d);l=a=!1}})}();
