(function(f){f.module("VLCRemote",["ngTouch","pascalprecht.translate"]).config(["$compileProvider",function(a){a.debugInfoEnabled(!1)}]).config(["$locationProvider",function(a){a.html5Mode({enabled:!0,requireBase:!1})}]).config(["$translateProvider",function(a){a.useStaticFilesLoader({prefix:"js/locales/",suffix:".json"}).registerAvailableLanguageKeys("af am ar as az ba be bg bn bo br bs ca co cs cy da de ds dv el en es et eu fa fi fo fr fy ga gd gl gs gu ha he hi hr hs hu hy id ig ii is it iu ja ka kk kl km kn ko ky lb lo lt lv mi mk ml mn mo mr ms mt nb ne nl nn ns oc or pa pl pr ps pt qu rm ro ru rw sa se si sk sl sm sq sr sv sw sy ta te tg th tk tn tr tt tz ug uk ur uz vi wo xh yo zh zu".split(" "),
{"af_*":"af","am_*":"am","ar_*":"ar","as_*":"as","az_*":"az","ba_*":"ba","be_*":"be","bg_*":"bg","bn_*":"bn","bo_*":"bo","br_*":"br","bs_*":"bs","ca_*":"ca","co_*":"co","cs_*":"cs","cy_*":"cy","da_*":"da","de_*":"de","ds_*":"ds","dv_*":"dv","el_*":"el","en_*":"en","es_*":"es","et_*":"et","eu_*":"eu","fa_*":"fa","fi_*":"fi","fo_*":"fo","fr_*":"fr","fy_*":"fy","ga_*":"ga","gd_*":"gd","gl_*":"gl","gs_*":"gs","gu_*":"gu","ha_*":"ha","he_*":"he","hi_*":"hi","hr_*":"hr","hs_*":"hs","hu_*":"hu","hy_*":"hy",
"id_*":"id","ig_*":"ig","ii_*":"ii","is_*":"is","it_*":"it","iu_*":"iu","ja_*":"ja","ka_*":"ka","kk_*":"kk","kl_*":"kl","km_*":"km","kn_*":"kn","ko_*":"ko","ky_*":"ky","lb_*":"lb","lo_*":"lo","lt_*":"lt","lv_*":"lv","mi_*":"mi","mk_*":"mk","ml_*":"ml","mn_*":"mn","mo_*":"mo","mr_*":"mr","ms_*":"ms","mt_*":"mt","nb_*":"nb","ne_*":"ne","nl_*":"nl","nn_*":"nn","ns_*":"ns","oc_*":"oc","or_*":"or","pa_*":"pa","pl_*":"pl","pr_*":"pr","ps_*":"ps","pt_*":"pt","qu_*":"qu","rm_*":"rm","ro_*":"ro","ru_*":"ru",
"rw_*":"rw","sa_*":"sa","se_*":"se","si_*":"si","sk_*":"sk","sl_*":"sl","sm_*":"sm","sq_*":"sq","sr_*":"sr","sv_*":"sv","sw_*":"sw","sy_*":"sy","ta_*":"ta","te_*":"te","tg_*":"tg","th_*":"th","tk_*":"tk","tn_*":"tn","tr_*":"tr","tt_*":"tt","tz_*":"tz","ug_*":"ug","uk_*":"uk","ur_*":"ur","uz_*":"uz","vi_*":"vi","wo_*":"wo","xh_*":"xh","yo_*":"yo","zh_*":"zh","zu_*":"zu"}).determinePreferredLanguage().fallbackLanguage("en")}]).factory("SettingsService",["$location",function(a){a={server:"http://"+a.host()+
":"+a.port(),browser:"~",dirFirst:!1,browseOrder:"+name",update:8,maxVol:!0,chapters:!0,forward:15,backward:15,audelay:.1,subdelay:.1};var d={};f.forEach(a,function(a,d){this.__defineGetter__(d,function(){var e=localStorage.getItem(d);if(null===e)return a;switch(typeof a){case "boolean":return"true"==e&&(e=!0),"false"==e&&(e=!1),e;case "number":return e=parseFloat(e),0===e%1&&1>e||0>e?a:e;default:case "string":return e||a}});this.__defineSetter__(d,function(a){localStorage.setItem(d,a)})},d);return{defaults:a,
settings:d}}]).factory("VLC",["$http","SettingsService","$timeout",function(a,d,c){var f=d.settings.server,e=function(e,c){return a({method:"GET",url:e,params:c})};return{sendCommand:function(a){"object"!=typeof a&&(a={command:a});return e(f+"/requests/status.json",a)},Browse:function(a){return e(f+"/requests/browse.json",{uri:a})},Playlist:function(a){return e(f+"/requests/playlist.json","object"==typeof a?a:a?{command:"pl_empty"}:{})}}}]).filter("seconds",function(){return function(a){return(new Date(1970,
0,1)).setSeconds(a)}}).filter("bytes",function(){return function(a,d){if(isNaN(parseFloat(a))||!isFinite(a))return"-";"undefined"===typeof d&&(d=1);var c=Math.floor(Math.log(a)/Math.log(1024));return(a/Math.pow(1024,Math.floor(c))).toFixed(d)+" "+"bytes kB MB GB TB PB".split(" ")[c]}}).run(["VLC",function(a){}]).controller("Settings",["$scope","SettingsService","$window",function(a,d,c){a.settings=d.settings;this.defaults=d.defaults;d=c.document.querySelector("div#settings").getElementsByClassName("toggle");
for(c=0;c<d.length;c++)d[c].addEventListener("toggle",function(c){c=f.element(c.target);a.settings[c.attr("id")]=c.hasClass("active")});this.browseOrderOpts=[{id:"+name",value:"+NAME"},{id:"-name",value:"-NAME"},{id:"+modification_time",value:"+MODIFICATION_TIME"},{id:"-modification_time",value:"-MODIFICATION_TIME"},{id:"+creation_time",value:"+CREATION_TIME"},{id:"-creation_time",value:"-CREATION_TIME"},{id:"+access_time",value:"+ACCESS_TIME"},{id:"-access_time",value:"-ACCESS_TIME"}]}]).controller("Playlist",
["$scope","VLC",function(a,d){this.load=function(c){return a.loadPlaylist(c)};this.Add=function(){k=1};this.Play=function(c,d){d&&f.forEach(d,function(a,f){d[f].current=a.id==c?!0:!1});a.sendCommand({command:"pl_play",id:c});return!0};this.Clear=function(){a.status.state&&"stopped"!=a.status.state&&!confirm("Something is currently playing and will be stopped. Would you continue ?")||this.load(!0)};this.Delete=function(a){this.load({command:"pl_delete",id:a})};this.Pl=function(c){a.sendCommand("pl_"+
c)}}]).controller("Browse",["$scope","VLC","SettingsService","$window",function(a,d,c,f){this.load=function(e){d.Browse(e).then(function(e){a.browse=e.data})};a.ordering=function(a){return".."==a.name?0:1};a.nullOrd=function(){return 1};this.load("file://"+f.encodeURIComponent(c.settings.browser));this.Play=function(e){if("s"==this.Ext(e))return a.sendCommand({command:"addsubtitle",val:e});a.sendCommand({command:"in_play",input:e});k--&&a.loadPlaylist()};this.Queue=function(e){k--?a.loadPlaylist({command:"in_enqueue",
input:e}):a.sendCommand({command:"in_enqueue",input:e})};this.Ext=function(a){a=a.substr(a.lastIndexOf(".")+1).toLowerCase();return-1<r.indexOf(a)?"v":-1<t.indexOf(a)?"a":-1<u.indexOf(a)?"p":-1<v.indexOf(a)?"s":!1};this.searchClick=function(){""!=this.search&&(this.search="")};this.isMRL=function(){return/:\/\//.test(this.search)};this.setDefault=function(a){confirm("Would you like to make this directory the default one ?\n\n"+a)&&(c.settings.browser=a)}}]).controller("Status",["$scope","VLC","SettingsService",
"$filter","$interval","$location","$window",function(a,d,c,k,e,p,h){var n=this;a.status={};a.error=!1;a.confs=c.settings;a.sendCommand=function(b){d.sendCommand(b).then(function(b){a.status=b.data;a.error=!1},function(b){a.error=b})};a.sendCommand({});a.focused=!0;var l,q=function(){if(f.isDefined(l))return!1;l=e(a.sendCommand,1E3*c.settings.update,0,!0,{})};h.addEventListener("blur",function(){e.cancel(l);l=void 0;a.focused=!1});h.addEventListener("focus",function(){a.sendCommand({});q();a.focused=
!0});q();a.closeModal=function(a){h.document.getElementById(a).classList.remove("active")};this.toggleFullscreen=function(){a.sendCommand("fullscreen")};this.Stop=function(){a.sendCommand("pl_stop")};this.PlayPause=function(){a.sendCommand("playing"==a.status.state?"pl_pause":"pl_play")};this.volIcon=function(b){switch(Math.floor(a.status.volume/2.56/25)){default:case 0:return b?"icon-sound3":"icon-sound4";case 1:case 2:return b?"icon-sound2":"icon-sound3";case 3:case 4:case 5:case 6:case 7:case 8:return b?
"icon-sound":"icon-sound2"}};this.Vol=function(b){return(256<=a.status.volume||230<a.status.volume)&&b&&a.confs.maxVol?a.sendCommand({command:"volume",val:256}):26>=a.status.volume&&!b?a.sendCommand({command:"volume",val:0}):a.sendCommand({command:"volume",val:b?a.status.volume+26:a.status.volume-26})};this.pos=new function(){this.timeout=null;this.pos=function(b){arguments.length&&(a.status.position=parseFloat(b),n.Seek(this.val));return a.status.position};this.__defineGetter__("val",function(){return Math.round(this.pos()*
this.len)});this.__defineGetter__("len",function(){return a.status.length})};this.Seek=function(b){!0===b&&(b="+"+c.settings.forward+"s");!1===b&&(b="-"+c.settings.backward+"s");if("undefined"==typeof b)return!1;a.sendCommand({command:"seek",val:b})};this.Chapter=function(b){var g=a.status.information.chapters,m=a.status.information.chapter;if(1<g.length&&c.settings.chapters)if(b){if(m<g.length)return a.sendCommand({command:"chapter",val:m+1})}else if(0<m)return a.sendCommand({command:"chapter",val:m-
1});return this.pos.val>c.settings.update&&0==b?this.Seek(0):this.Swipe(b)};this.Swipe=function(b){return a.sendCommand(b?"pl_next":"pl_previous")};this.info={keys:"CONTENT_TYPE title artist album genre description SEASON_SYNOPSIS SUMMARY date ACTOR CHARACTER GUESTS DIRECTOR PRODUCER WRITTEN_BY EXECUTIVE_PRODUCER DIRECTOR_OF_PHOTOGRAPHY SOUND_ENGINEER PRODUCTION_DESIGNER PRODUCTION_STUDIO RECORDING_LOCATION".split(" "),buildArr:function(){var b=a.status;if(!b.information)return!1;var b=b.information.category.meta,
g=[];f.forEach(this.keys,function(a,c){if(b[a]){if("CONTENT_TYPE"==a&&b.genre)return g.push({key:b[a],val:b.genre});if("album"!=a||"TV Show"!=b.CONTENT_TYPE&&"Film"!=b.CONTENT_TYPE)if("SUMMARY"!=a||"Film"!=b.CONTENT_TYPE)return"title"==a&&b.track_number?b.track_total?g.push({key:a,val:"["+b.track_number+"/"+b.track_total+"] "+b[a]}):g.push({key:a,val:b.track_number+". "+b[a]}):"date"==a?g.push({key:a,val:k("date")(b[a],"longDate")}):g.push({key:a,val:b[a]})}});return this.infos=g},infos:[]};a.$watch("status",
function(a,g){a.information&&g.information&&a.information.category.meta.filename==g.information.category.meta.filename||(n.info.buildArr(),n.streams.buildArr())});this.streams={buildArr:function(){var b=a.status;if(!b.information)return!1;b=b.information.category;this.streams=[];this.keyTranslations=[["T","Type","Type_","Typ","Tipo"],"C Codec Codec_ C\u00f3dec Codifica Kodek".split(" "),"L Language Langue_ Sprache Idioma Lingua Taal Linguagem Wyb\u00f3r_j\u0119zyka".split(" "),"Ch Channels Canaux_ Canales Kan\u00e4le Canali Kanalen Canais Kana\u0142y".split(" "),
["B","Bitrate","Tasa_de_bits","Przep\u0142ywno\u015b\u0107"]];this.TypeTranslations=[["V","Video","Vid\u00e9o","V\u00eddeo","Obraz"],["A","Audio","Audio","\u00c1udio","D\u017awi\u0119k"],"S Subtitle Sous-titres Subt\u00edtulo Untertitel Sottotitolo Ondertitel Legenda Napisy".split(" ")];this.findTranslation=function(a){var b=this.keyTranslations,c=this.TypeTranslations;f.forEach(a,function(d,e){for(var f=0;f<b.length;f++)if(-1!=b[f].indexOf(e)){if("T"==b[f][0])for(var h=0;h<c.length;h++)-1!=c[h].indexOf(d)&&
(a.TT=d,d=c[h][0]);a[b[f][0]]=d}},this);return a};f.forEach(b,function(a,b){var c=b.match(/[0-9]+$/);null!=c&&(this.streams[c[0]]=this.findTranslation(a));return!0},this)},streams:[],select:function(b){a.sendCommand({command:-1==b||"S"==this.streams[b].T?"subtitle_track":"audio_track",val:b})}};this.Rate=function(b){b=Math.round(100*a.status.rate+100*b)/100;if(.25>b||10<b)return!1;a.sendCommand({command:"rate",val:b})};this.Delay=function(b,d){var e="a"==d?c.settings.audelay:c.settings.subdelay;a.sendCommand({command:"a"==
d?"audiodelay":"subdelay",val:Math.round(1E3*(("a"==d?a.status.audiodelay:a.status.subtitledelay)+(b?e:-1*e)))/1E3})};this.EQ=new function(){f.element(h.document.getElementById("enableEq")).on("toggle",function(b){a.sendCommand({command:"enableeq",val:f.element(this).hasClass("active")?1:0})});var b=this;this.enabled=function(b){return!f.isUndefined(a.status.equalizer)&&f.isArray(a.status.equalizer)?!1:"object"==typeof a.status.equalizer&&"undefined"!=typeof b?a.status.equalizer.hasOwnProperty(b):
!0};this.timeout=null;this.setter=function(b,c){a.sendCommand("object"==typeof b?b:{command:b,val:c})};this.__defineGetter__("preamp",function(){return a.status.equalizer?this.enabled()?a.status.equalizer.preamp:0:!1});this.__defineSetter__("preamp",function(b){if(!this.enabled())return!1;a.status.equalizer.preamp=parseFloat(b);this.setter("preamp",this.preamp)});this.prsts=[];this.__defineGetter__("presets",function(){if(!a.status.equalizer||!this.enabled())return!1;1>this.prsts.length&&a.status.equalizer.presets&&
f.forEach(a.status.equalizer.presets,function(a,b){/[0-9]+/.test(b)&&this.prsts.push({id:b.match(/[0-9]+/)[0],val:a})},this);return this.prsts});this.__defineSetter__("presets",function(a){this.setter("setpreset",a)});this._b="60Hz 170Hz 310Hz 600Hz 1kHz 3kHz 6kHz 12kHz 14kHz 16kHz".split(" ");this.bands=[];f.forEach(this._b,function(c,d){this.bands.push({id:d,fq:c,val:function(c){if(!a.status.equalizer||!b.enabled())return 0;arguments.length&&b.setter({command:"equalizer",band:d,val:c});return arguments.length?
a.status.equalizer.bands['band id="'+d+'"']=c:a.status.equalizer.bands['band id="'+d+'"']}})},this)};a.loadPlaylist=function(b){d.Playlist(b).then(function(b){a.playlist=b.data.children})}}]).directive("resize",["$window",function(a){return function(d,c,k){var e=a.document.querySelector(".bar-footer-secondary .btn.control-item.pull-left"),p=a.document.querySelector(".bar-footer-secondary .btn.control-item.pull-right");d.$watch(function(){return{w:a.innerWidth,l:e.clientWidth,r:p.clientWidth}},function(a,
c){d.sliderSize=function(){return{width:a.w-46-a.r-a.l+"px"}}},!0);f.element(a).on("resize",function(){d.$apply()});f.element(a.document).ready(function(){d.$apply()})}}]).directive("fallbackSrc",function(){return{link:function(a,d,c){d.bind("error",function(){f.element(this).attr("src",c.fallbackSrc)})}}});var k=0,r="asf avi divx drc dv f4v flv gxf iso m1v m2v m2t m2ts m4v mkv mov mp2 mp4 mpeg mpeg1 mpeg2 mpeg4 mpg mts mtv mxf mxg nuv ogg ogm ogv ogx ps rec rm rmvb ts vob wmv xesc webm".split(" "),
t="3ga a52 aac ac3 ape awb dts flac it m4a m4p mka mlp mod mp1 mp2 mp3 oga ogg oma s3m spx thd tta wav wma wv xm".split(" "),u="asx b4s cue ifo m3u m3u8 pls ram sdp vlc xspf".split(" "),v=["srt","idx","ass","ssa","sup"]})(angular);