(function(r,g){g.module("VLCRemote",["ngTouch","pascalprecht.translate"]).config(["$compileProvider",function(a){a.debugInfoEnabled(!1)}]).config(["$locationProvider",function(a){a.html5Mode({enabled:!0,requireBase:!1})}]).config(["$translateProvider",function(a){a.useStaticFilesLoader({prefix:"js/locales/",suffix:".json"}).registerAvailableLanguageKeys("af am ar as az ba be bg bn bo br bs ca co cs cy da de ds dv el en es et eu fa fi fo fr fy ga gd gl gs gu ha he hi hr hs hu hy id ig ii is it iu ja ka kk kl km kn ko ky lb lo lt lv mi mk ml mn mo mr ms mt nb ne nl nn ns oc or pa pl pr ps pt qu rm ro ru rw sa se si sk sl sm sq sr sv sw sy ta te tg th tk tn tr tt tz ug uk ur uz vi wo xh yo zh zu".split(" "),
{"af_*":"af","am_*":"am","ar_*":"ar","as_*":"as","az_*":"az","ba_*":"ba","be_*":"be","bg_*":"bg","bn_*":"bn","bo_*":"bo","br_*":"br","bs_*":"bs","ca_*":"ca","co_*":"co","cs_*":"cs","cy_*":"cy","da_*":"da","de_*":"de","ds_*":"ds","dv_*":"dv","el_*":"el","en_*":"en","es_*":"es","et_*":"et","eu_*":"eu","fa_*":"fa","fi_*":"fi","fo_*":"fo","fr_*":"fr","fy_*":"fy","ga_*":"ga","gd_*":"gd","gl_*":"gl","gs_*":"gs","gu_*":"gu","ha_*":"ha","he_*":"he","hi_*":"hi","hr_*":"hr","hs_*":"hs","hu_*":"hu","hy_*":"hy",
"id_*":"id","ig_*":"ig","ii_*":"ii","is_*":"is","it_*":"it","iu_*":"iu","ja_*":"ja","ka_*":"ka","kk_*":"kk","kl_*":"kl","km_*":"km","kn_*":"kn","ko_*":"ko","ky_*":"ky","lb_*":"lb","lo_*":"lo","lt_*":"lt","lv_*":"lv","mi_*":"mi","mk_*":"mk","ml_*":"ml","mn_*":"mn","mo_*":"mo","mr_*":"mr","ms_*":"ms","mt_*":"mt","nb_*":"nb","ne_*":"ne","nl_*":"nl","nn_*":"nn","ns_*":"ns","oc_*":"oc","or_*":"or","pa_*":"pa","pl_*":"pl","pr_*":"pr","ps_*":"ps","pt_*":"pt","qu_*":"qu","rm_*":"rm","ro_*":"ro","ru_*":"ru",
"rw_*":"rw","sa_*":"sa","se_*":"se","si_*":"si","sk_*":"sk","sl_*":"sl","sm_*":"sm","sq_*":"sq","sr_*":"sr","sv_*":"sv","sw_*":"sw","sy_*":"sy","ta_*":"ta","te_*":"te","tg_*":"tg","th_*":"th","tk_*":"tk","tn_*":"tn","tr_*":"tr","tt_*":"tt","tz_*":"tz","ug_*":"ug","uk_*":"uk","ur_*":"ur","uz_*":"uz","vi_*":"vi","wo_*":"wo","xh_*":"xh","yo_*":"yo","zh_*":"zh","zu_*":"zu"}).determinePreferredLanguage().fallbackLanguage("en")}]).factory("SettingsService",["$location",function(a){a={server:"http://"+a.host()+
":"+a.port(),browser:"~",dirFirst:!1,browseOrder:"+name",update:8,maxVol:!0,chapters:!0,forward:15,backward:15,audelay:.1,subdelay:.1};var d={};g.forEach(a,function(a,c){this.__defineGetter__(c,function(){var f=localStorage.getItem(c);if(null===f)return a;switch(typeof a){case "boolean":return"true"==f&&(f=!0),"false"==f&&(f=!1),f;case "number":return f=parseFloat(f),0===f%1&&1>f||0>f?a:f;default:case "string":return f||a}});this.__defineSetter__(c,function(a){localStorage.setItem(c,a)})},d);return{defaults:a,
settings:d}}]).factory("VLC",["$http","SettingsService","$timeout",function(a,d,e){var c=d.settings.server,f=function(c,e){return a({method:"GET",url:c,params:e})};return{sendCommand:function(a){"object"!=typeof a&&(a={command:a});return f(c+"/requests/status.json",a)},Browse:function(a){return f(c+"/requests/browse.json",{uri:a})},Playlist:function(a){return f(c+"/requests/playlist.json","object"==typeof a?a:a?{command:"pl_empty"}:{})}}}]).filter("seconds",[function(){return function(a){return(new Date(1970,
0,1)).setSeconds(a)}}]).run(["VLC",function(a){}]).controller("Headers",["$scope",function(a){a.isIOs=function(){return RegExp("(iPad|iPhone|iPod)","g").test(navigator.userAgent)}}]).controller("Settings",["$scope","SettingsService","$window",function(a,d,e){a.settings=d.settings;this.defaults=d.defaults;d=e.document.querySelector("div#settings").getElementsByClassName("toggle");for(e=0;e<d.length;e++)d[e].addEventListener("toggle",function(c){c=g.element(c.target);a.settings[c.attr("id")]=c.hasClass("active")});
this.browseOrderOpts=[{id:"+name",value:"+NAME"},{id:"-name",value:"-NAME"},{id:"+modification_time",value:"+MODIFICATION_TIME"},{id:"-modification_time",value:"-MODIFICATION_TIME"},{id:"+creation_time",value:"+CREATION_TIME"},{id:"-creation_time",value:"-CREATION_TIME"},{id:"+access_time",value:"+ACCESS_TIME"},{id:"-access_time",value:"-ACCESS_TIME"}]}]).controller("Playlist",["$scope","VLC",function(a,d){this.load=function(e){return a.loadPlaylist(e)};this.Add=function(){h=1};this.Play=function(e,
c){c&&g.forEach(c,function(a,d){c[d].current=a.id==e?!0:!1});a.sendCommand({command:"pl_play",id:e});return!0};this.Clear=function(){a.status.state&&"stopped"!=a.status.state&&!confirm("Something is currently playing and will be stopped. Would you continue ?")||this.load(!0)};this.Delete=function(a){this.load({command:"pl_delete",id:a})}}]).controller("Browse",["$scope","VLC","SettingsService",function(a,d,e){this.load=function(c){d.Browse(c).then(function(c){a.browse=c.data})};a.ordering=function(a){return".."==
a.name?0:1};this.load("file://"+e.settings.browser);this.Play=function(c){if("s"==this.Ext(c))return a.sendCommand({command:"addsubtitle",val:c});a.sendCommand({command:"in_play",input:c});h--&&a.loadPlaylist()};this.Queue=function(c){h--?a.loadPlaylist({command:"in_enqueue",input:c}):a.sendCommand({command:"in_enqueue",input:c})};this.Ext=function(a){a=a.substr(a.lastIndexOf(".")+1).toLowerCase();return-1<m.indexOf(a)?"v":-1<n.indexOf(a)?"a":-1<p.indexOf(a)?"p":-1<q.indexOf(a)?"s":!1};this.searchClick=
function(){""!=this.search&&(this.search="")}}]).controller("Status",["$scope","VLC","SettingsService","$filter","$interval","$location","$window",function(a,d,e,c,f,h,k){var l=this;a.status={};a.error=!1;a.confs=e.settings;a.sendCommand=function(b){d.sendCommand(b).then(function(b){a.status=b.data;a.error=!1},function(b){a.error=b})};a.sendCommand({});this.updateInterval=f(a.sendCommand,1E3*e.settings.update,0,!0,{});a.closeModal=function(a){var c=void 0===a?k.document.querySelector(".modal.active"):
k.document.getElementById(a);null!=c&&(c.classList.remove("active"),void 0!==a&&k.history.back())};g.element(k).on("popstate",function(b){a.closeModal();null!=b.state&&k.document.getElementById(b.state).classList.add("active")});this.toggleFullscreen=function(){a.sendCommand("fullscreen")};this.Stop=function(){a.sendCommand("pl_stop")};this.PlayPause=function(){a.sendCommand("playing"==a.status.state?"pl_pause":"pl_play")};this.volIcon=function(b){switch(Math.floor(a.status.volume/2.56/25)){default:case 0:return b?
"icon-sound3":"icon-sound4";case 1:case 2:return b?"icon-sound2":"icon-sound3";case 3:case 4:case 5:case 6:case 7:case 8:return b?"icon-sound":"icon-sound2"}};this.Vol=function(b){return(256<=a.status.volume||230<a.status.volume)&&b&&a.confs.maxVol?a.sendCommand({command:"volume",val:256}):26>=a.status.volume&&!b?a.sendCommand({command:"volume",val:0}):a.sendCommand({command:"volume",val:b?a.status.volume+26:a.status.volume-26})};this.pos=new function(){this.timeout=null;this.__defineGetter__("pos",
function(){return a.status.position});this.__defineSetter__("pos",function(b){a.status.position=parseFloat(b);this.timeout&&clearTimeout(this.timeout);var c=this;this.timeout=setTimeout(function(){l.Seek(c.val)},100)});this.__defineGetter__("val",function(){return Math.round(this.pos*this.len)});this.__defineGetter__("len",function(){return a.status.length})};this.Seek=function(b){!0===b&&(b="+"+e.settings.forward+"s");!1===b&&(b="-"+e.settings.backward+"s");if("undefined"==typeof b)return!1;a.sendCommand({command:"seek",
val:b})};this.Chapter=function(b){var c=a.status.information.chapters,d=a.status.information.chapter;if(1<c.length&&e.settings.chapters)if(b){if(d<c.length)return a.sendCommand({command:"chapter",val:d+1})}else if(0<d)return a.sendCommand({command:"chapter",val:d-1});return this.pos.val>e.settings.update&&0==b?this.Seek(0):this.Swipe(b)};this.Swipe=function(b){return a.sendCommand(b?"pl_next":"pl_previous")};this.info={keys:"CONTENT_TYPE title artist album genre description SEASON_SYNOPSIS SUMMARY date ACTOR CHARACTER GUESTS DIRECTOR PRODUCER WRITTEN_BY EXECUTIVE_PRODUCER DIRECTOR_OF_PHOTOGRAPHY SOUND_ENGINEER PRODUCTION_DESIGNER PRODUCTION_STUDIO RECORDING_LOCATION".split(" "),
buildArr:function(){var b=a.status;if(!b.information)return!1;var b=b.information.category.meta,d=[];g.forEach(this.keys,function(a,e){if(b[a]){if("CONTENT_TYPE"==a&&b.genre)return d.push({key:b[a],val:b.genre});if("album"!=a||"TV Show"!=b.CONTENT_TYPE&&"Film"!=b.CONTENT_TYPE)if("SUMMARY"!=a||"Film"!=b.CONTENT_TYPE)return"title"==a&&b.track_number?b.track_total?d.push({key:a,val:"["+b.track_number+"/"+b.track_total+"] "+b[a]}):d.push({key:a,val:b.track_number+". "+b[a]}):"date"==a?d.push({key:a,val:c("date")(b[a],
"longDate")}):d.push({key:a,val:b[a]})}});return this.infos=d},infos:[]};a.$watch("status",function(a,c){a.information&&c.information&&a.information.category.meta.filename==c.information.category.meta.filename||(l.info.buildArr(),l.streams.buildArr())});this.streams={buildArr:function(){var b=a.status;if(!b.information)return!1;b=b.information.category;this.streams=[];g.forEach(b,function(a,b){var c=b.match(/[0-9]+$/);null!=c&&(this.streams[parseInt(c)]=a);return!0},this)},streams:[],select:function(b){a.sendCommand({command:-1==
b||"Subtitle"==this.streams[b].Type?"subtitle_track":"audio_track",val:b})}};this.Delay=function(b,c){var d="a"==c?e.settings.audelay:e.settings.subdelay;a.sendCommand({command:"a"==c?"audiodelay":"subdelay",val:Math.round(1E3*(("a"==c?a.status.audiodelay:a.status.subtitledelay)+(b?d:-1*d)))/1E3})};a.loadPlaylist=function(b){d.Playlist(b).then(function(b){a.playlist=b.data.children})}}]).directive("resize",["$window",function(a){return function(d,e,c){var f=a.document.querySelector(".bar-footer-secondary .btn.control-item.pull-left"),
h=a.document.querySelector(".bar-footer-secondary .btn.control-item.pull-right");d.$watch(function(){return{w:a.innerWidth,l:f.clientWidth,r:h.clientWidth}},function(a,c){d.sliderSize=function(){return{width:a.w-46-a.r-a.l+"px"}}},!0);g.element(a).on("resize",function(){d.$apply()});g.element(a.document).ready(function(){d.$apply()})}}]).directive("fallbackSrc",function(){return{link:function(a,d,e){d.bind("error",function(){g.element(this).attr("src",e.fallbackSrc)})}}});var h=0,m="asf avi divx drc dv f4v flv gxf iso m1v m2v m2t m2ts m4v mkv mov mp2 mp4 mpeg mpeg1 mpeg2 mpeg4 mpg mts mtv mxf mxg nuv ogg ogm ogv ogx ps rec rm rmvb ts vob wmv xesc".split(" "),
n="3ga a52 aac ac3 ape awb dts flac it m4a m4p mka mlp mod mp1 mp2 mp3 oga ogg oma s3m spx thd tta wav wma wv xm".split(" "),p="asx b4s cue ifo m3u m3u8 pls ram rar sdp vlc xspf".split(" "),q=["srt","idx","ass","ssa","sup"]})(window,angular);